# 文目

## 1. プロダクト概要

* **プラットフォーム:** デスクトップアプリ（Tauri + React / ローカル動作）
* **目的:** 青空文庫形式のファイルをEPUBに変換するツール

## 2. デザインコンセプト（Look & Feel）

* **テーマカラー:** 「青暗い黄昏（たそがれ）」を基調とした色彩設計。
* **テクスチャ:** 背景等に「和紙」のようなざらざらした質感を適用。
* **形状:** 全体的に角丸（Radius）を多用し、柔らかく親しみやすい印象にする。
* **UIコンポーネント:** 背景に対し、UI要素（ボタン、カード等）は「不透明な黒ベース」で設計。

## 3. グローバルナビゲーション

* **形状:** ピル型（カプセル型）のフローティングタブバー。
* **配置:** 画面下部（または適切な位置）に浮いた状態で配置。
* **アイコン:**
* 左：**ファイルアイコン**（ホーム画面へ遷移）
* 右：**歯車アイコン**（設定画面へ遷移）

## 4. 画面詳細：ホーム画面（変換・管理）

### レイアウト：レスポンシブ対応

ウィンドウサイズに応じてレイアウトを可変させる。

* **PC・広域表示時（2カラムレイアウト）**
* **左カラム:** 書籍情報リスト（タイトル → 著者の順で縦並び）。
* **右カラム:** 表紙画像エリア。
* 未設定時：角丸長方形の中心に、ピル型の「＋表紙を追加」ボタンを配置。
* 設定済時：選択された画像を角丸で表示。

* **狭域表示時（1カラムレイアウト / モバイルライク）**
* 上から順に「表紙エリア」→「タイトル」→「著者名」の順でスタック配置。

### アクションエリア（画面下部）

* **配置:** 「アップロード」ボタンと「ダウンロード」ボタンを横並びに配置。
* **挙動:**
1. **アップロード:** OSネイティブのファイル選択ダイアログを開く（.txt / .zip）。
2. **処理:** ファイル選択後、即座に変換処理・メタデータ解析（タイトル・著者の抽出）を実行し、画面上の情報を更新する。
3. **ダウンロード:** 変換完了後、非活性だったボタンを活性化（Enable）にする。クリックでOSの保存ダイアログを開く。

## 5. 画面詳細：設定画面

### レイアウト

* リスト形式で設定項目を上から順に配置。

### 設定項目（UIコンポーネント）

1. **縦書き / 横書き切替**
* トグルスイッチ、またはセグメンテッドコントロール。

2. **適用CSS選択**（複数選択可能なチェックボックスリスト）
* **prelude**（構造用）：傍線・傍点など、青空文庫タグの基礎表示用。
* **miyabi**（装飾用）：行間調整、フォント指定など「美しく読む」ためのスタイル。

3. **カスタムCSS追加**
* 「＋カスタムCSSを追加」ボタン：.cssファイルをアップロード。
* **追加後の表示:** リストに追加され、チェックボックスでOn/Off可能にする。
* **削除機能:** 追加された項目には「ゴミ箱アイコン」を付与し、削除可能にする。

4. **文字コード選択**
* プルダウンメニュー（ドロップダウン）。
* 選択肢: Shift_JIS（デフォルト）、UTF-8。